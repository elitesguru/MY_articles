<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article Blog System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
        }

        .article-card {
            margin-bottom: 20px;
        }

        .comment-section {
            margin-top: 10px;
        }

        .comment {
            margin-bottom: 10px;
        }

        .article-footer {
            font-size: 0.9rem;
            color: gray;
        }

        .like-btn {
            color: #0d6efd;
            cursor: pointer;
        }

        .like-btn:hover {
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <div class="container py-5">
        <h1 class="text-center mb-4">Article Blog System</h1>

        <!-- Form to Post an Article -->
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Post a New Article</h5>
                <form id="articleForm">
                    <div class="mb-3">
                        <label for="articleTitle" class="form-label">Title</label>
                        <input type="text" id="articleTitle" class="form-control" placeholder="Enter the article title"
                            required>
                    </div>
                    <div class="mb-3">
                        <label for="articleContent" class="form-label">Content</label>
                        <textarea id="articleContent" class="form-control" rows="5"
                            placeholder="Write your article here..." required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Post Article</button>
                </form>
            </div>
        </div>

        <!-- Articles Section -->
        <div id="articles"></div>
    </div>

    <script>
        const articlesContainer = document.getElementById('articles');

        // Store articles in an array
        let articles = [];

        // Function to render articles
        function renderArticles() {
            articlesContainer.innerHTML = '';
            articles.forEach((article, index) => {
                const articleCard = document.createElement('div');
                articleCard.className = 'card article-card';
                articleCard.innerHTML = `
          <div class="card-body">
            <h5 class="card-title">${article.title}</h5>
            <p class="card-text">${article.content}</p>
            <div class="article-footer">
              Posted on: ${article.timestamp} <br>
              <span class="like-btn" onclick="likeArticle(${index})">
                <i class="far fa-thumbs-up"></i> ${article.likes} Likes
              </span> |
              <span class="like-btn" onclick="repostArticle(${index})">
                <i class="fas fa-retweet"></i> Repost
              </span>
            </div>
            
            <!-- Comment Section -->
            <div class="comment-section">
              <h6>Comments:</h6>
              <div id="comments-${index}"></div>
              <textarea id="commentInput-${index}" class="form-control mb-2" placeholder="Add a comment..."></textarea>
              <button class="btn btn-sm btn-secondary" onclick="addComment(${index})">Post Comment</button>
            </div>
          </div>
        `;
                articlesContainer.appendChild(articleCard);
            });
        }

        // Handle form submission
        document.getElementById('articleForm').addEventListener('submit', (event) => {
            event.preventDefault();

            const title = document.getElementById('articleTitle').value;
            const content = document.getElementById('articleContent').value;

            const newArticle = {
                title,
                content,
                timestamp: new Date().toLocaleString(),
                likes: 0,
                comments: []
            };

            articles.unshift(newArticle);
            renderArticles();

            // Clear form
            document.getElementById('articleForm').reset();
        });

        // Like an article
        function likeArticle(index) {
            articles[index].likes++;
            renderArticles();
        }

        // Repost an article
        function repostArticle(index) {
            const repostedArticle = { ...articles[index], timestamp: new Date().toLocaleString() };
            articles.unshift(repostedArticle);
            renderArticles();
        }

        // Add a comment to an article
        function addComment(index) {
            const commentInput = document.getElementById(`commentInput-${index}`);
            const commentText = commentInput.value.trim();

            if (commentText) {
                articles[index].comments.push(commentText);
                commentInput.value = '';
                renderArticles();
            }
        }
    </script>
</body>
<footer class='.bg-white'>
    <div class="container text-center">
        <p>&copy; 2024 Article System. All rights reserved.</p>
        <p>Designed by <strong>Hale Jaunire</strong> <i class="bi-brush"></i></p>
    </div>
</footer>

</html>